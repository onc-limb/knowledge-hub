polarsはRust製のDataFrameライブラリで、最近Pandasに変わって人気になってきている。

特徴はRust製なので早いこと、また直感的に描きやすいことが挙げられる。

PolarsにはCategorical型というデータ型を持っている。

文字列型のカラムだが、含まれるデータに重複が多く含まれるということは多々あるが、その際に全てをそのまま文字列として保存するとメモリ的に非効率になる。

そこで、一度使用された文字列を辞書として保存し、実際に保存するデータはその辞書のインデックスを数値で保存するようにしてメモリ効率を上げたのがCategolical型である。

```python
{”国語”, “数学”, “英語”}
[0, 1, 1, 2, 1, 2, 0, …]
```

似た機能にenum型があるが、enum型は事前に存在するカテゴリーを定義して使用するのに対し、Categolical型は柔軟にカテゴリーを定義するため、カテゴリー数が未知でも使用できる。(その分パフォーマンスはenumの方が良いらしい)

Categolical型はpolarsの独自型なので、他のライブラリと併用するときには注意

Categolicalの値はuint32型で保存されていて、Pandasで使用しているPyArrowではuintのサポートをしていないためエラーになる。

to_pandasのようなメソッドで正しく変換できれば問題ないが、polarsで生成したデータセットをpandasで読み込んだりするとエラーが発生する可能性あり