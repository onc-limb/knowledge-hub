---
title: 「アーキテクチャ」が伝わらない
emoji: 💡
type: idea
topics:
  - architecture
  - design
published: false
---
## はじめに
開発をしていてこのような言葉を聞いたことがないでしょうか？

「どんなアーキテクチャを採用していますか？」
「私たちはクリーンアーキテクチャを使っています！」
「アーキテクチャ図を作ってください」
etc…

ソフトウェア開発者にとって、”アーキテクチャ”という言葉は日常的に使われる。
しかし、本当にその言葉で伝えたいことが伝わっているのだろうか？
知りたいことが知れているのだろうか？
筆者はアーキテクトでもなんでもない一エンジニアだが、アーキテクチャについて考える機会は多かったと思う。
そんな私が、アーキテクチャについて「あれ？なんか伝わってないな？」と感じた経験を振り返り、言語化してみました。

:::message
あくまで個人の意見です。
具体的なアーキテクチャパターン(クリーンアーキテクチャ、レイヤードアーキテクチャなど)については踏み込みません。
:::

## 対象読者
アーキテクチャ実はよくわかってないんだよねという方
どうやってチームメンバーに理解してもらったらいいかわからないという方

拙い言語化ですが少しでも助けになれたら嬉しいです。

## 忙しい人のためのまとめ
todo

## アーキテクチャとは何か？
伝わらない理由を考える前に、まずはそもそも「アーキテクチャって何？」というところから考えていきます。

### 言葉の定義(architecture)
"Architecture"を辞書で調べると、"建築術"、"建築学"、"構造"、"構成"などと出てくる。
では、”アーキテクチャ”は“構造”と読み替えて良いものでしょうか？

実は、開発の現場で言われている"アーキテクチャ"はただの”構造”よりももっと広い意味合いで使われているのです。

システム開発における"アーキテクチャ"という言葉に、明確な定義はないと言われています。[参考(wikipedia)](https://ja.wikipedia.org/wiki/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3)
そのため、論文や書籍によっても説明に使用されている言葉がちょっとずつ違っており、これも理解が難しい原因になっていると思います。

多くの先達の様々な言葉をお借りして、私なりにまとめると下記のようになります

"システムの目的"を果たすために必要な「特性、品質」であり、
その「特性、品質」を実現するための「構造」であり、
その「構造」を作って、維持して、進化させていくための「制約、指針」である。

ここで強調したいのは、"システムの目的"という部分です。

## なぜ伝わらないのか
では、ようやく本題ですが、アーキテクチャの話をする時に、なぜ伝わらないのかを考えていきます。

### 1. 視点が揃っていない
まず一つ目に考えられるのが、アーキテクチャという言葉の定義が広いことから生まれる、視点の違いです。

[言葉の定義](#言葉の定義architecture)で触れたように、アーキテクチャは「特性、品質」を指しながら、「制約、指針」のことも指し表している。

一つの言葉が複数の意味合いを持っている場合、人や立場によって捉えるものが異なるのは至極当然である。

例えば、アーキテクトが品質を担保するためにどのような構造を用いるかを考え、提案している場に、実装者となるメンバーが自分が守るべき制約はどのようなルールなのだろうかという視点で話を聞いていると食い違いが起こる。

アーキテクト「このサービスは可用性は重要だ。ここは非同期通信にした方がいいと思います！」

実装者「非同期通信にする場合、キューサービスへのAPI連携はインフラ層に置くのが妥当ですかね？」

アーキテクト「(今、実装の制約の話も、コードの変更容易性の話もしてない、、、)」

### 2. 粒度が揃っていない
アーキテクチャという言葉は視点もさながら、いろんな粒度でも使用されます。
ソースコードの書き方、インフラサービスの構成、組織構成
ハードウェアやOSなど低レイヤーを生業にしている人だったら、x86とか、ARMのようなCPU構成を思い浮かべる人もいるかも知れません。
一つの言葉が複数の粒度を持っている場合にも、やはり人や立場によって捉えるものが異なる。
そして、意外にも全てのアーキテクチャが多岐択一のものであると考えている人が多い。
これらによって、粒度が異なり比較できないものに対して、勝手に頭の中で取捨選択が行われており、食い違いが起こる。

アーキテクト「このAPIはデータのCRUDがメインだからリソース指向アーキテクチャ(ROA)を採用しましょう」

実装者「では、特に階層を分けて依存関係を意識する必要はないということですね？」

アーキテクト「(ROAはインターフェースのアーキテクチャだから、コードベースの話とは粒度が違うんじゃが、、、)」

### 3. 個別、具体の話が先行している

世のアーキテクチャについて書かれている本は、クリーンアーキテクチャやマイクロサービスアーキテクチャなど、個々の具体的なアーキテクチャパターンについて説かれていることが多い。

目的を理解せずに表層の理解をしようとすると、クリーンアーキテクチャとマイクロサービスアーキテクチャを同レイヤーのものとして並列で考えてしまう。

アーキテクチャとはもっと抽象的なものである。

　「目的を理解していない」で記載した通り、アーキテクチャの目的は、、、

まずはそのビジネスの重要な要件を、どのレイヤーで担保していくかを考える必要がある。

コードレベルで変更容易性を担保するのであれば、コードレベルの粒度のアーキテクチャパターンから目的に合うものを選択するし、サービスレベルで考えるのであれば、マイクロサービスだのモジュラーモノリスだのを考えるし、連携方法で考えるのであれば、イベント駆動やSOAだったり、、、そもそも組織体制で担保するのであればエンタープライズアーキテクチャから見直したり、、

どのレベルで、何を担保するのかということを考えることで、各粒度でどのアーキテクチャパターンを採用するのかを決めることができる。

具体的なアーキテクチャパターンの実現方法はその後に考えても全くもって遅くないはず

(もちろんそのアーキテクチャパターンの利点、欠点を知っていないと決断はできないのだが)

- Level 1: ビジネスゴール（何を実現したいか）
- Level 2: アーキテクチャ特性（どんな品質が必要か）
- Level 3: アーキテクチャパターン（どの型を使うか：マイクロサービス etc.）
- Level 4: 実装詳細（どう書くか）
→「いきなりLevel 3から話していませんか？」という問いかけにすると伝わりやすいです。

## どうすれば伝わるのか
ここまで、アーキテクチャの話がなぜ伝わらないかを言語化してきました。

わかりやすくするためにやや大袈裟な例を挙げましたが、皆さんも似たような経験をされたことがあるのではないでしょうか？


これらの経験を踏まえ、私は今後アーキテクチャについて会話をするときは、下記について、事前に共有することを意識しようと考えています。

「システムの目的は何なのだろうか」
「アーキテクチャによって解決したい課題は何なのだろうか」

## まとめ
アーキテクチャという言葉が相手にうまく伝わらない原因について考察してきました。
さまざまな視点で、さまざまな粒度で語られる言葉なので、前提の共有や前情報がなければ想定される内容が人によって異なってしまいます。

これは、アーキテクチャに関わらないと思いますが、自分が前提と思っているものが相手も前提にしているとは限らないということですね。

一流の開発者、アーキテクトになるには、技術の知識を持った上で人と向き合うことが大事だと思いました。
(PCにだけ向き合っていた私は二流だったという自戒も込めて、、、)

## 参考文献